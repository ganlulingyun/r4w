# cbindgen configuration for R4W FFI
# Generates r4w.h from Rust FFI functions

language = "C"
header = """
/*
 * R4W - Rust for Waveforms
 * C/C++ FFI Interface
 *
 * This header provides access to R4W's DSP functions from C/C++.
 *
 * Usage:
 *   #include <r4w.h>
 *
 *   // Link with -lr4w or libr4w.a
 *
 * Example:
 *   R4wComplex samples[1024];
 *   r4w_fft_forward(samples, 1024);
 */
"""

include_guard = "R4W_H"
pragma_once = true
include_version = true
cpp_compat = true

autogen_warning = "/* Warning: this file is auto-generated by cbindgen. Do not modify. */"

[defines]
# Map Rust features to C preprocessor defines
"feature = ringbuffer" = "R4W_RINGBUFFER"

[export]
include = ["R4wComplex", "R4wError", "R4wFftProcessor", "R4wRingBuffer", "R4wChirpGenerator"]
exclude = []

[export.rename]
# Use cleaner C names
"R4wComplex" = "r4w_complex_t"
"R4wError" = "r4w_error_t"
"R4wFftProcessor" = "r4w_fft_t"
"R4wRingBuffer" = "r4w_ringbuffer_t"
"R4wChirpGenerator" = "r4w_chirp_t"

[fn]
# Function naming convention
rename_args = "None"

[struct]
rename_fields = "None"

[enum]
rename_variants = "ScreamingSnakeCase"
prefix_with_name = true

[documentation]
style = "c"
